<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chess Game</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/chessboard-js/1.0.0/chessboard-1.0.0.css" rel="stylesheet">
<style>
  body {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background: #000000; /* This line changes the background color to black */
    margin: 0;
    color: #ffffff; /* This is to set the basic text color to white, for visibility against the black background */
  }

  .board-b72b1 {
    border: none !important;
    box-shadow: none !important; /* This line removes any shadow effects */
  }


  [class^="white-"], [class*=" white-"] {
    background-color: #A8A4A8!important; /* white */
  }
  
  [class^="black-"], [class*=" black-"] {
    background-color: #606064 !important; /* black */
  }
  

</style>
</head>
<body>

<div id="board" style="width: 400px"></div>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.10.3/chess.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/chessboard-js/1.0.0/chessboard-1.0.0.js"></script>
<script>

var board = null;
var game = new Chess();

var config = {
  draggable: true,
  position: 'start',
  onDragStart: onDragStart,
  onDrop: onDrop,
  onSnapEnd: onSnapEnd,
  showNotation: false,
  pieceTheme: function(piece) {
    var pieceMap = {
      'wR': 'https://static1.squarespace.com/static/61677fb4ed3774477e5e74fb/t/6536ea771cd2fd100b519951/1698097794209/wR.png',
      'wQ': 'https://static1.squarespace.com/static/61677fb4ed3774477e5e74fb/t/6536ead41cd2fd100b51bb39/1698097876228/wQ.png',
      'wP': 'https://static1.squarespace.com/static/61677fb4ed3774477e5e74fb/t/6536eb05e16b432f6238e8b5/1698097925490/wP.png',
      'wN': 'https://static1.squarespace.com/static/61677fb4ed3774477e5e74fb/t/6536eb29171ba35fa13d99a7/1698097961789/wN.png',
      'wK': 'https://static1.squarespace.com/static/61677fb4ed3774477e5e74fb/t/6536eb49c82f58719f303246/1698097993458/wK.png',
      'wB': 'https://static1.squarespace.com/static/61677fb4ed3774477e5e74fb/t/6536eb6918a70a63d863a3cc/1698098025573/wB.png',
      'bR': 'https://static1.squarespace.com/static/61677fb4ed3774477e5e74fb/t/6536ebf4107cfb417cffe6fa/1698098174814/bR.png',
      'bQ': 'https://static1.squarespace.com/static/61677fb4ed3774477e5e74fb/t/6536ec1bc33f11425afeb4a9/1698098204023/bQ.png',
      'bP': 'https://static1.squarespace.com/static/61677fb4ed3774477e5e74fb/t/6536ec3a3067a677d5baeaab/1698098234722/bP.png',
      'bN': 'https://static1.squarespace.com/static/61677fb4ed3774477e5e74fb/t/6536ec57692a8920f1b5a9e0/1698098263665/bN.png',
      'bK': 'https://static1.squarespace.com/static/61677fb4ed3774477e5e74fb/t/6536ed09c27bbc0aca5f0f2b/1698098441657/bK.png',
      'bB': 'https://static1.squarespace.com/static/61677fb4ed3774477e5e74fb/t/6536ed25e8ec0e5db575709b/1698098469930/bB.png'
    };
    return pieceMap[piece] || 'https://www.chess.com/bundles/web/images/offline-play/standard/pieces/neo/90/{piece}.png'; // default images from another source
  }
};

board = Chessboard('board', config);

function onDragStart (source, piece, position, orientation) {
  // do not pick up pieces if the game is over
  if (game.game_over()) return false;

  // only pick up pieces for the side to move
  if ((game.turn() === 'w' && piece.search(/^b/) !== -1) ||
      (game.turn() === 'b' && piece.search(/^w/) !== -1)) {
    return false;
  }
}


function makeRandomMove () {
  var possibleMoves = game.moves();

  // game over
  if (possibleMoves.length === 0) {
    alert('Game over');
    return;
  }

  var randomIdx = Math.floor(Math.random() * possibleMoves.length);
  game.move(possibleMoves[randomIdx]);
  board.position(game.fen());
}

function onDrop(source, target) {
  // see if the move is legal
  var move = game.move({
    from: source,
    to: target,
    promotion: 'q' // NOTE: always promote to a queen for simplicity
  });

  // illegal move
  if (move === null) return 'snapback';

  
  if (target === 'a8' && move.color === 'w' && move.piece === 'q') {
   
    window.open('https://www.lbrnthgame.com/h75vt349-8tkv3475tq3h9-ct7k348957gh', '_blank');
  }

  // make random legal move for opponent
  window.setTimeout(makeRandomMove, 250);
}




// update the board position after the piece snap
// for castling, en passant, pawn promotion
function onSnapEnd () {
  board.position(game.fen());
}


// update the board to the current game position
function updateBoard () {
  board.position(game.fen());
}

updateBoard();






</script>

</body>
</html>
